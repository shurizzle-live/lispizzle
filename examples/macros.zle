(def x 2)

(def defmacro (macro (name &rest)
  `(def ,name (macro ,@rest))))

(defmacro defn (name &rest)
  `(def ,name (fn ,@rest)))

(defn test ()
  "this is a test"
  (println "test"))

(println (fn-name test))
(println (fn-doc  test))

(test)

(println (primitive-eval '(+ x 1)))

(println (macroexpand '(primitive-eval '(+ x 1))))

(defn 1+ (n)
  (+ 1 n))

(defmacro inc (name)
  `(set! ,name (1+ ,name)))

(println x)
(inc x)
(println x)

;; vim:ft=scheme
